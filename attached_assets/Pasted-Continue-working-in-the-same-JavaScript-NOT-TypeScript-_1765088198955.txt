Continue working in the same JavaScript (NOT TypeScript) + React + Tailwind CSS, mobile-first project.
The Results / Documents page currently:

Shows generated disclosure narratives and/or the pre-adverse action response letter.

When the user selected both, it has a top-level switch/toggle that flips between viewing “Narratives” and “Letter” results.

At the bottom of the page (above the footer), it now has a “How to use what you just got” section with:

A large heading.

Guidance content for using narratives and for using the letter.

Its own pill-style navigation to switch between “Using your narratives” and “Using your letter.”

Problem:
The bottom section currently has its own internal pill navigation / state, which can get out of sync with the main switch at the top of the Results page. This means the user could be looking at “Narratives” on top but “Using your letter” guidance at the bottom, or vice versa, which is confusing.

Desired behavior:

The “How to use what you just got” section must follow the same state as the main Results toggle.

When the user is viewing Narratives in the main Results area:

The bottom section should automatically show narratives guidance.

When the user switches the main toggle to Letter:

The bottom section should automatically switch to letter guidance.

There should no longer be a separate pill-style navigation inside the bottom section.

Important for this change:
For this change, DO NOT perform any end-to-end (e2e) tests or automated full-flow testing.
You may perform local/component-level checks only. I will manually confirm behavior in the UI.

Business requirement – Bottom guidance mirrors the main Results view

Update the “How to use what you just got” section so that:

Single source of truth for which content is active:

The only control for “Narratives vs Letter” is the existing main toggle/switch at the top of the Results page.

The bottom guidance section reads that same selection and displays:

Narratives guidance when the main Results view is on narratives.

Letter guidance when the main Results view is on the pre-adverse letter.

Conditional behavior based on what was generated:

If the user generated only narratives:

The main page shows narratives only.

The bottom section always shows narratives guidance, with no toggle and no pills.

If the user generated only the letter:

The main page shows the letter only.

The bottom section always shows letter guidance, with no toggle and no pills.

If the user generated both:

The top-level switch/toggle controls which results are visible.

The bottom section automatically updates its guidance to match the currently selected result type.

There is no additional pill navigation in the bottom section.

UI & layout for the bottom section:

It remains a distinct section under the main results content, with:

A large, bold heading (e.g., “How to use what you just got”).

Text guidance blocks in a calm, trauma-aware tone.

Only one guidance block is visible at a time (based on current selection), except in single-result cases where there is only one type anyway.

Acceptance criteria (Given / When / Then)
Scenario: Narratives only

Given the user selected Narratives only on the Selection page and generated results

When they view the Results page

Then:

The main Results area shows only narratives.

The bottom “How to use what you just got” section is present and shows only narratives guidance.

There is no toggle or pill navigation in that bottom section.

Scenario: Letter only

Given the user selected Pre-Adverse Response only on the Selection page and generated results

When they view the Results page

Then:

The main Results area shows only the pre-adverse action letter.

The bottom “How to use what you just got” section is present and shows only letter guidance.

There is no toggle or pill navigation in that bottom section.

Scenario: Both – Narratives active

Given the user selected Both (Narratives + Letter) and generated results

When the main Results toggle at the top is set to Narratives

Then:

The main Results area shows the narratives (cards/stack).

The bottom “How to use what you just got” section automatically shows narratives guidance.

There is no separate pill navigation in the bottom section; it simply mirrors the active result type.

Scenario: Both – Letter active

Given the user selected Both (Narratives + Letter) and generated results

When the user taps the top-level Results toggle to switch to Letter

Then:

The main Results area switches to show the pre-adverse letter card.

The bottom “How to use what you just got” section automatically switches to letter guidance.

The guidance section stays aligned with the current view without any extra clicks.

Scenario: No independent state or conflicting views

Given the updated implementation

When the user switches back and forth between Narratives and Letter with the main toggle

Then:

There is no separate pill navigation in the bottom section.

The bottom guidance never shows the opposite of what’s displayed above (e.g., “Using your letter” while viewing narratives).

The displayed guidance is always consistent with the active result type.

Scenario: No regressions to other Results behavior

Given the Results page previously had working:

Regenerate logic and limits

Copy/Download behavior

Top-level toggle switching results

When the bottom guidance section is updated to follow the main state

Then:

All of the above continue to work as before.

The only change is that the bottom section now uses the main toggle’s state and no longer has its own pills.

What I want you (Replit AI) to do

Assess the current Results page state & guidance component

Identify:

The state that controls which result type is currently active at the top of the Results page (e.g., activeResultTab, selectedTool, view, etc.).

Where this state is stored (Results page component, context, etc.).

Identify the guidance section component (e.g., ResultsGuidanceSection or similar) and how it currently:

Manages its own pill navigation.

Tracks which guidance tab (“narratives” vs “letter”) is active via local state.

Describe your understanding of the requirements

In your own words, explain:

That you need to remove the local pill-style navigation and internal “active tab” state from the bottom guidance section.

That the guidance section should instead receive the active result type from the main Results state as a prop or via context.

That when both documents exist:

The main toggle is the single source of truth for which guidance is shown.

That in single-document scenarios, the guidance section just renders the relevant guidance with no toggles.

Identify key considerations to avoid disrupting existing functionality

Ensure that:

You do not break the existing main toggle’s behavior (narratives ↔ letter).

You pass state down in a way that does not introduce unnecessary re-renders or complex prop drilling.

The guidance section still properly handles:

Narratives-only

Letter-only

Both (but now using external state).

Any code for the old pill nav (buttons, local activeTab state) is safely removed or refactored.

Propose best-practice implementation details

Describe a likely approach:

In the Results page component, where the main toggle is controlled, identify or introduce a clear variable like:

const [activeResultType, setActiveResultType] = useState(
  hasBoth ? "narratives" : hasNarratives ? "narratives" : "letter"
);


Reuse activeResultType for:

Determining which results to show (as it does now).

Passing to the guidance section as a prop, e.g.:

<ResultsGuidanceSection
  hasNarratives={hasNarratives}
  hasLetter={hasLetter}
  activeResultType={activeResultType}
/>


Inside ResultsGuidanceSection:

Remove local activeTab state and pills.

Condition the content on:

If hasNarratives && hasLetter:

Use activeResultType to decide which guidance block to show.

If hasNarratives && !hasLetter:

Always show narratives guidance.

If hasLetter && !hasNarratives:

Always show letter guidance.

Assess other best practices

Keep the heading and overall styling unchanged or minimally touched.

Ensure the section is still accessible:

Simple text, no interactive elements needed now.

Keep the code easy to understand by:

Renaming any leftover variables from “tab” language to “activeResultType” or similar.

Generate a step-by-step plan to implement this enhancement

At a minimum include:

Step 1: Open the Results page component and identify the state that controls the main narratives/letter toggle.

Step 2: Confirm or introduce a single activeResultType value ("narratives" or "letter") that is updated by the main toggle.

Step 3: Pass activeResultType and the hasNarratives / hasLetter flags down into the bottom guidance section component.

Step 4: In the guidance section component:

Remove the internal pill nav markup and the local activeTab state.

Implement conditional rendering such that:

Narratives-only: always show narratives guidance.

Letter-only: always show letter guidance.

Both: show one block at a time based solely on activeResultType.

Step 5: Remove any now-unused styles or helper functions related to the local pills.

Step 6: Manually verify:

Narratives-only run → narratives results + narratives guidance.

Letter-only run → letter results + letter guidance.

Both:

Toggle at the top changes the results and automatically switches the guidance at the bottom to match.

No extra pill navigation is visible in the guidance section.

Keep the scope limited

Do not:

Change the content of the guidance itself (just how it’s selected).

Modify document generation, regeneration, or copy/download logic.

Alter the behavior or styling of the top-level toggle.

Only:

Remove the local pill nav in the guidance section.

Wire the guidance section to the existing main Results state.

Propose a skeleton framework

// ResultsPage.jsx (simplified)
function ResultsPage({ hasNarratives, hasLetter, ... }) {
  const hasBoth = hasNarratives && hasLetter;
  const [activeResultType, setActiveResultType] = useState(
    hasBoth ? "narratives" : hasNarratives ? "narratives" : "letter"
  );

  // main toggle onChange sets activeResultType

  return (
    <div className="...">
      {/* Top toggle, results cards, etc. */}

      {/* Bottom guidance section */}
      <ResultsGuidanceSection
        hasNarratives={hasNarratives}
        hasLetter={hasLetter}
        activeResultType={activeResultType}
      />
    </div>
  );
}

function ResultsGuidanceSection({ hasNarratives, hasLetter, activeResultType }) {
  if (!hasNarratives && !hasLetter) return null;

  const showNarrativesGuidance =
    hasNarratives && (!hasLetter || activeResultType === "narratives");
  const showLetterGuidance =
    hasLetter && (!hasNarratives || activeResultType === "letter");

  return (
    <section className="mt-10 border-t border-slate-800 pt-8">
      <div className="max-w-3xl mx-auto space-y-4">
        <h2 className="text-xl sm:text-2xl font-semibold text-foreground">
          How to use what you just got
        </h2>

        {showNarrativesGuidance && (
          <div className="space-y-2 text-sm text-muted-foreground">
            {/* Narratives guidance copy */}
          </div>
        )}

        {showLetterGuidance && (
          <div className="space-y-2 text-sm text-muted-foreground">
            {/* Letter guidance copy */}
          </div>
        )}
      </div>
    </section>
  );
}


Adapt prop names, state names, and classNames to match your actual implementation.

Do not modify any files yet

First, output your understanding of this synchronization change and your implementation plan.

Remember: do NOT perform any e2e tests for this change—I will manually confirm behavior in the UI.

Wait for my confirmation that your approach is sound before updating the code.