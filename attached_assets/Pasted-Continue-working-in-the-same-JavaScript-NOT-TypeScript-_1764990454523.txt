Continue working in the same JavaScript (NOT TypeScript) + React + Tailwind CSS, mobile-first project.
The Documents Page, swipeable narratives, response letter, regeneration logic, and 3x-per-document limits are all already implemented and working.

There is a tooltip clipping issue for the disabled “Regenerate” button. Instead of further tweaking tooltip positioning, I want a simpler UI change:

Keep Copy and Download together in the top row.

Move Regenerate to its own row below the Copy/Download row for both narratives and the response letter.

This should give the tooltip more space below the Regenerate button so it is fully visible, without complex overflow or z-index fixes.

Important for this fix:
For this one change, DO NOT perform any end-to-end (e2e) tests or automated full-flow testing.
I will manually confirm the change myself.

Business requirement – Separate row for “Regenerate” button

Update the narrative and response letter cards so that:

The first row contains only Copy and Download (side-by-side).

The Regenerate button is rendered on a separate row beneath those buttons, spanning the width of the card (or clearly centered below).

This layout applies to:

Each narrative card in the swipeable carousel.

The pre-adverse action response letter card.

The existing 3x regeneration limit, disabled state, and tooltip behavior remain unchanged:

After 3 regenerations, the Regenerate button is disabled in this new row.

The tooltip still appears under the Regenerate button, but now has more space and should no longer be cut off.

Do not introduce any new tooltip system or complex portal logic. This is a layout-only fix.

Acceptance criteria (Given / When / Then)
Scenario: Narrative card button layout

Given the user is viewing any narrative card on the Documents Page

When the card is rendered

Then:

The top row of actions shows Copy and Download only (e.g., side-by-side buttons).

The Regenerate button is on a separate row below the Copy/Download row.

This applies both when the Regenerate button is active (before 3 regenerations) and when it is disabled (after 3 regenerations).

Scenario: Response letter card button layout

Given the user is viewing the pre-adverse action response letter card

When the card is rendered

Then:

The Copy and Download buttons are on the top row.

The Regenerate button is on its own row below those buttons, aligned consistently with the narrative cards.

Scenario: Tooltip visibility with new layout

Given the user has hit the 3x regeneration limit for a narrative or the response letter

When they hover/focus/tap on the disabled Regenerate button in its new row

Then:

The tooltip appears below the Regenerate button.

The tooltip text is fully visible and not cut off by parent containers (in both mobile and full-size/desktop views).

The supportive message stays the same (suggesting copying into another AI tool or working with a trusted advisor).

Scenario: No functional regressions

Given the regeneration feature and 3x limit were previously working

When this layout change is implemented

Then:

The 3x regeneration limit per narrative and per letter is still enforced.

Regeneration still calls the same APIs and updates only the targeted document.

Regeneration counts, disabled states, and tooltips still persist across refreshes as before.

Swipe carousel, Download, Copy, and all other features continue to work as before.

What I want you (Replit AI) to do

Assess the enhancement and layout change

Identify where the action buttons for narratives and the response letter are rendered (e.g., NarrativeCard, LetterCard, or similar components).

Confirm the current structure: likely three buttons on one row: Copy | Download | Regenerate.

Plan how to split this into:

Row 1: Copy + Download

Row 2: Regenerate

Describe your understanding of the requirements

Explain in your own words:

That this is a layout-only change to separate the Regenerate button onto its own row.

That the tooltip behavior, 3x limit, and API logic must not change.

That the main goal is to allow the tooltip to have enough vertical space so it is no longer cut off.

Identify key considerations to avoid disrupting existing functionality

Maintain a mobile-first design:

Buttons should be clearly tappable and not cramped on small screens.

Keep Tailwind utility classes manageable and consistent (e.g., using flexbox and spacing utilities).

Ensure that moving Regenerate to a new row does not break:

Alignment/spacing of the cards

Swipe behavior

Responsiveness on desktop vs mobile

Propose best-practice UX for the new two-row layout

Describe how the buttons should be laid out on mobile vs desktop:

Example: Copy + Download as two equal-width buttons in the top row; Regenerate as a full-width button in the row below.

Confirm that the visual hierarchy still makes sense:

Copy/Download as primary actions on the first row.

Regenerate as a clearly visible but slightly secondary action on the row below.

Assess other best practices

Tailwind usage for layout and spacing (e.g., flex, gap-x-2, mt-2, etc.).

Consistent styling across narrative cards and letter card.

Accessibility for disabled Regenerate buttons and tooltips.

Generate a step-by-step implementation plan

At a minimum, include:

Step 1: Locate components where the three buttons are rendered (narratives + letter).

Step 2: Wrap Copy and Download in a container for the top row (e.g., div with flex and gap classes).

Step 3: Place Regenerate in a separate div below the top row (e.g., full-width button with margin-top).

Step 4: Ensure the tooltip logic is still attached to the Regenerate button and behaves the same.

Step 5: Test locally in the UI only:

Narrative cards in the carousel (before and after hitting the 3x limit).

Response letter card (before and after hitting the 3x limit).

Mobile view and full-size/desktop view.

Step 6: Confirm there are no regressions in click behavior, disabled state, or persistence.

Keep the scope limited

Do not change:

The 3x regeneration logic

Regeneration API handlers

Tooltip message content

Only adjust layout/markup and Tailwind classes needed to achieve the two-row button layout.

Propose a skeleton framework

Show simplified JSX for what the card’s action area will look like, for example:

<div className="flex gap-2">
  <Button>Copy</Button>
  <Button>Download</Button>
</div>
<div className="mt-2">
  {/* Regenerate button with tooltip/limit logic */}
  <RegenerateButton
    disabled={isAtLimit}
    // tooltip + handlers here
  />
</div>


Clarify that this pattern should be applied consistently to both narrative and letter cards.

Do not modify any files yet

First, output your understanding of this layout change and your implementation plan.

Remember: do NOT perform any e2e tests for this change—I will manually confirm the fix myself.

Wait for my confirmation that your approach is sound before updating the actual code.